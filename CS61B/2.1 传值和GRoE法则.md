# 传值和GRoE法则

## Java的GRoE法则

Java引用类型存的不是完整内容，而是一个内容所在的地址。
Java不把地址暴露给程序员，因此函数传参时只会传值。

Java中有八种原始类型，分别是byte、short、int、long、float、double、char、boolean，除此之外包括数组，都是引用类型，内存盒内不放完整内容，而是只放一个64bit位的指针。每次进行“=”赋值运算时，并不会把整个内容复制过去，而只会把内存盒内的比特位复制过去。

GRoE（Golden Rule of Equals）：y = x表示把x内存盒中的二进制位复制到y内存盒中，不涉及指针指向的其他空间。

## 设计自己的List

```java
public class IntList {
    public int first;
    public IntList rest;        

    public IntList(int f, IntList r) {
        first = f;
        rest = r;
    }
}
```

自己独立实现：

1. 递归与非递归方式获取链表大小。
2. get方法获取第k位的数据。
3. 记得加上注释或Javadoc。

## 章末小结

### 我学到了什么？

- Java中赋值运算符=表示把内存盒内的二进制位完全复制过去，对于原始类型int、char、double等可起到赋值的作用，但对于引用类型如数组、列表等就只会把指针复制过去。
- 对象的复制分为浅拷贝与深拷贝，前者只复制指针，后者拷贝所有内容。但只是这样理解是不够的，什么叫“复制指针”？底层实现是什么？自己能具体地描述出来吗？在学这门课之前是理解但是还差一步，原来所谓的复制指针是把内存盒中64个bit位复制过来，而这64个bit位本身正好是指针。

### 如何学会的？

- 把要学习的内容细致地描述出来，最好能结合图像，给出一个形象直观的理解。
- 把内容分块，分成单个的语素，比如复制指针就是复制和指针，这里重点在于复制内容只是64个bit位，复制的本来就少，自然也改变不了太多，于是调用内容时仍然要和原对象共用一块内存区域。

### 怎么类推出去？

- 把要学的内容表述出来，尽可能地体现全面。比如“指针”这个概念更强调功能，说明其可以指向某个地方，但实质上忽略了组成部分（64个bit位），有组成有功能，联合起来有助于加深理解。